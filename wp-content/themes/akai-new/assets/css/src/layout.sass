// site-header variables
$bar-height: 70px

$navigation-arrow-width: 30px
$navigation-bar-height: $bar-height
$navigation-bar-margin: 140px
$logo-size: 250px

$navigation-overall-size: $navigation-bar-height + 2 * $navigation-bar-margin
$navigation-logo-margin: ($navigation-overall-size - $logo-size) / 2


// main layout stuff
body
  padding-top: $navigation-bar-margin

.container
  +outer-container

.site-header
  text-align: center
  top: 0
  width: 100%
  border-bottom: 4px solid $light-gray
  z-index: 2

  .navigation-bar
    +bar
    background-color: transparent
    overflow: hidden

    .bg
      width: 100%
      height: 100%
      &:before, &:after
        content: " "
        display: block
        position: absolute
        background-color: $blue
        width: 50%
        height: 100%
        top: 0
      &:before
        left: -$logo-size / 2
      &:after
        right: -$logo-size / 2

    .navigation
      position: relative
      display: inline-block
      width: 50%

      li
        display: inline-block
        position: relative
        &:after
          z-index: 2

        a
          display: inline-block
          width: 12.3em
          text-align: center

          &:hover
            color: $orange

        &.current-menu-item, &.current-post-ancestor
          background-color: $orange
          color: #fff
          a:hover
            color: inherit
        
      &.center
        position: absolute
        top: 0
        left: 0
        width: 100%
        .fill
          display: block
          margin: 0 auto
          width: $logo-size
          height: $navigation-bar-height
          +linear-gradient(#fff, rgba(#fff, 0))
          background-color: transparent

      &.left
        text-align: right
        float: left
        padding-right: $logo-size / 2
        li
          +has-arrow($navigation-arrow-width, $navigation-bar-height, $navigation-bar-height, right, $blue)
          a
            +has-arrow($navigation-arrow-width, $navigation-bar-height, $navigation-bar-height, right, $blue)
            padding-left: $navigation-arrow-width
            &:after
              right: auto
              left: 0

          &.current-menu-item, &.current-post-ancestor
            &:after
              border-left-color: $orange
            a:after
              border-left-color: $blue

      &.right
        text-align: left
        float: right
        padding-left: $logo-size / 2
        li
          +has-arrow($navigation-arrow-width, $navigation-bar-height, $navigation-bar-height, left, $blue)
          a
            +has-arrow($navigation-arrow-width, $navigation-bar-height, $navigation-bar-height, left, $blue)
            padding-right: $navigation-arrow-width
            &:after
              left: auto
              right: 0

          &.current-menu-item, &.current-post-ancestor
            &:after
              border-right-color: $orange
            a:after
              border-right-color: $blue

  .logo
    display: block
    margin: 0 auto
    position: relative
    margin-top: -$navigation-bar-height + 5px
    width: $navigation-bar-height - 10px
    height: $navigation-bar-height - 10px

    img
      display: inline-block
      width: 100%
      height: 100%
      padding: 0

  .site-header-links
    margin-top: -30px
    color: $medium-gray
    line-height: 60px

    .site-title
      font-family: Polaris
      font-size: 18px
      font-weight: normal
      a
        color: inherit
    
  &.big
    // padding-top: $navigation-bar-margin

    .logo
      margin-top: -$navigation-bar-height -$navigation-bar-margin +$navigation-logo-margin
      width: $logo-size
      height: $logo-size
      img
        padding: 40px

.site-main
  margin: 40px
  
.site-footer
  +bar

  .copyright
    +span-columns(6)

  .partners
    +span-columns(6)
    text-align: right


// Other layout stuff


.horizontal-photo
  background-size: cover
  background-position: cover
  height: 370px
  margin-bottom: $gutter
  border: 1px solid $light-gray


.column
  &.content
    +span-columns(8)

  &.sidebar
    +span-columns(4)

  > section
    + section
      &:before
        content: " "
        display: block
        width: 100%
        height: 1px
        border-top: 1px solid $light-gray
        margin: $gutter 0


body.admin-bar
  margin-top: -32px
  margin-bottom: 32px
#wpadminbar
  top: auto
  bottom: 0
  .menupop .ab-sub-wrapper, 
  .shortlink-input
    bottom: 32px
